(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{175:function(t,e,n){"use strict";var a,o,r=n(1),l=n.n(r),i=(n(417),n(538)),s=n(539),c=n(173),u=n(540),m=n(174),p=n(80),d=n(640),h=n(33),b=n(643),g=n(648);function v(t){var e=t.title,n=t.comment,a=t.post,o=t.handleChange,r=t.handleSubmit,i=t.isComment,s=t.isActive,c=t.err,u=i?"commentContent":"postContent",m=i?n:a,p=i?"\u53d1\u8868\u8bc4\u8bba":"\u63d0\u4ea4";return l.a.createElement(b.a,{className:"editor",onSubmit:r},!i&&l.a.createElement(b.a.Item,null,l.a.createElement(g.a,{name:"postTitle",type:"text",value:e,onChange:o})),l.a.createElement(b.a.Item,null,l.a.createElement(g.a.TextArea,{name:u,value:m,onChange:o})),s&&c&&l.a.createElement("p",{className:"err-message"},c),l.a.createElement(b.a.Item,null,l.a.createElement(g.a,{type:"submit",value:p})))}v.defaultProps={title:"",post:"",comment:""};var f={handleChange:h.b.formDataOnChange,handleSubmit:h.b.formValuePublish,toggleIsPosting:h.b.formToggleIsPosting},E=function(t,e){return{target:{name:t,value:e}}},C=(a=Object(p.b)(function(t,e){return{title:h.c.getFormValue(t,"postTitle"),post:h.c.getFormValue(t,"postContent"),comment:h.c.getFormValue(t,"commentContent"),isPosting:h.c.getFormIsPosting(t),authorId:h.c.getAuthUserId(t),err:h.c.getErrorMessage(t),mode:e.mode,oldTitle:e.title,oldContent:e.content}},f),Object(d.a)(o=a(o=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).isComment=n.props.mode&&"comment"===n.props.mode.toLowerCase(),n.handleSubmit=function(t){t.preventDefault(),n.setState({isActive:!0});var e=t.target,a=e.postContent,o=e.postTitle,r=e.commentContent,l=n.props,i=l.location.pathname,s=l.mode,c=l.authorId,u=n.isComment,m=i.split("/")[2],p=o&&o.value,d={value:u?r&&r.value:a&&a.value,pathId:m,mode:s,authorId:c,isComment:u};d=Object.assign(d,p?{title:p}:{}),n.props.handleSubmit(d)},n.state={isActive:!1},n}return Object(m.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.mode;if("amend"===(t&&t.toLowerCase())){var e=this.props,n=e.oldContent,a=e.oldTitle,o=e.handleChange;a&&o(E("postTitle",a)),n&&o(E("postContent",n))}}},{key:"componentWillUnmount",value:function(){var t=this.props,e=t.toggleIsPosting,n=t.isPosting;n&&e(n)}},{key:"render",value:function(){var t=this.props,e=t.post,n=t.title,a=t.comment,o=t.err,r=t.handleChange,i={isComment:this.isComment,isActive:this.state.isActive,handleSubmit:this.handleSubmit,handleChange:r,title:n,post:e,comment:a,err:o};return l.a.createElement(v,i)}}]),e}(r.Component))||o)||o);e.a=function(t){return l.a.createElement(C,{mode:t.mode,title:t.title,content:t.content})}},417:function(t,e,n){},541:function(t,e,n){"use strict";var a=n(538),o=n(539),r=n(173),l=n(540),i=n(174),s=n(1),c=n.n(s),u=n(80),m=n(640),p=n(33),d=function(t){return{list:p.c.getList(t),post:p.c.getPost(t)}},h={getFetchData:p.b.getFetchData};e.a=function(t,e){var n,p;return n=Object(u.b)(d,h),Object(m.a)(p=n(p=function(n){function s(t){var e;return Object(a.a)(this,s),(e=Object(r.a)(this,Object(l.a)(s).call(this,t))).state={firstMount:!0},e}return Object(i.a)(s,n),Object(o.a)(s,[{key:"componentDidMount",value:function(){this.props.getFetchData({type:e,rule:this.props.match.params.id})}},{key:"render",value:function(){var n=this.props,a=n.list,o=n.post;return"post"===e?o&&"object"===typeof o?c.a.createElement(t,o):null:Array.isArray(a)?c.a.createElement(t,{list:a}):null}}]),s}(s.Component))||p)||p}},567:function(t,e,n){},650:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=(n(567),n(538)),l=n(539),i=n(173),s=n(540),c=n(174),u=n(80),m=n(33),p=n(26),d=n(644),h=n(541),b=n(639);function g(t){var e=t.id,n=t.postId,a=t.title,r=t.author,l=t.postDate;return e&&o.a.createElement(d.a.Item,{key:e,className:"post-list-item"},o.a.createElement("h3",null,o.a.createElement(b.a,{to:"/post/".concat(n)},a)),o.a.createElement("div",null,o.a.createElement("p",null,"\u4f5c\u8005"),o.a.createElement("p",null,r)),o.a.createElement("div",null,o.a.createElement("p",null,"\u53d1\u5e03\u65f6\u95f4"),o.a.createElement("p",null,l)))}g.defaultProps={id:"",title:"",postDate:"",postId:"",author:""};var v,f=Object(h.a)(function(t){return o.a.createElement("div",{id:"postList"},o.a.createElement(d.a,{className:"post-list",dataSource:t.list,bordered:!0,renderItem:function(t){var e=t.id.split("_")[1],n=Object(p.a)({},t,{postId:e});return o.a.createElement(g,n)}}))},"posts"),E=n(175),C=n(170),j=Object(u.b)(function(t){return{isPosting:m.c.getFormIsPosting(t),noMatch:m.c.getNoMatch(t)}})(v=function(t){function e(){return Object(r.a)(this,e),Object(i.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.isPosting;return t.noMatch?o.a.createElement(C.b,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(C.c,null,"\u53d1\u5e16"),e?o.a.createElement(E.a,{mode:"post"}):null,o.a.createElement(f,null))}}]),e}(a.Component))||v;e.default=function(){return o.a.createElement(j,null)}}}]);
//# sourceMappingURL=6.bc0bb0ff.chunk.js.map